# "一个月完成项目"——前端开发文档

---

| 修订日期   | 版本 | 修订内容                     | 修订人 | 审核人 |
| ---------- | ---- | ---------------------------- | ------ | ------ |
| 2019-11-29 | v1.0 | 前端详细设计                 | 李翼   | zzj    |
| 2020-1-19  | v1.1 | 更改了主页设计，加入新的页面 | 刘若尘 |        |

[toc]



##  1.测试环境：

   

   + 使用外部库：Bootstrap3.3.7,jquery-3.4.1,Echarts
            

## 2. 概要设计

1. 前端流程设计  
    ```mermaid
        graph LR;
            A[大数据职业分析与查询网-首页]--搜索职业名-->B[岗位信息页面];
            A--搜索就职条件-->C[薪水统计图表页面];
            B-.返回首页.->A;
            C-.返回首页.->A;
    ```
2. 前端业务逻辑
    + 大数据职业分析与查询网-首页
        + 界面示例展示  
            示例: ![home](D:\大三上\曙光\V1.1\前端文档\home.png)
        + 操作指南：
            &ensp; &ensp; &ensp; &ensp; 用户点击进入["大数据+上海"就业信息网-首页]，浏览首页展示网站基本信息；
            &ensp; &ensp; &ensp; &ensp; 薪水统计栏和offer查询是二级菜单，详细统计是一级菜单，点击即可进入相应统计图表。
        
+ 岗位信息页面
        + 界面示例展示  
            示例: ![jobinfo](D:\大三上\曙光\V1.1\前端文档\jobinfo.png)
        + 操作指南：
            &ensp; &ensp; &ensp; &ensp; 查看所选职业的招聘信息总数和详细资料，包含职位名称、招聘公司和薪资待遇；
            &ensp; &ensp; &ensp; &ensp; 点击上方导航栏的“Home按钮即可返回首页；
            &ensp; &ensp; &ensp; &ensp; 点击下方数字列表可展现指定页码的职业信息。
    
+ 薪水统计图表页面
        + 界面示例展示  
            示例: ![group_statistics](D:\大三上\曙光\V1.1\前端文档\group_statistics.png)
        + 操作指南：
            &ensp; &ensp; &ensp; &ensp; 查看所选关键字影响下的就业趋势统计图表，点击上方导航栏的“Home”按钮即可返回首页。
        
    + 详细统计页面
    
        + 界面示例展示
    
          示例:![detail](D:\大三上\曙光\V1.1\前端文档\detail.png)

## 3. 前端详细设计

1. home.html
    + 界面名称：大数据职业分析与查询网-首页
    
    + 功能：浏览首页展示基本信息，用户可选择提交搜索表单任一到服务器；
    
    + 内部逻辑：
        ```mermaid
        graph LR;
            A[用户]--请求-->B[base.html];
            B-.选择筛选结果.->C[服务器:get_jobinfo模块];
            D[jobinfo.html];
            C-.岗位信息数据.->D;
            B-.提交职业/教育背景等关键字表单.->E[服务器:get_group_statistics模块];
            F[stats.html];
            E-.图表数据.->F;
            B.->G[服务器:detail模块];
        G-.图表数据.->H[detail.html];
        ```
        
    + 组件说明：
    
      	+ 导航栏组件：
    
          + 功能：返回首页按钮
          + URL：/
          + HTTP请求方式：GET
        + 岗位信息搜索组件：
            + 功能：提交分类统计关键字服务器，并根据URL来获得offer信息。
            + URL: /{{job}}/{{page}}
            + HTTP请求方式：GET
        + 薪水统计关键字搜索组件：
            + 功能：提交分类标签到服务器，并根据URL来获得对应的薪水统计。
            + URL: /stats
            + HTTP请求方式：GET
       + 详细统计搜索组件:
            + 功能：进入详细统计页面
            + URL:/detail
            + HTTP请求方式:GET


2. jobinfo.html 
    + 界面名称：岗位信息页面
    + 功能：解析服务器:get_jobinfo模块传来的数据查看所选职业的详细招聘数据，并将其展示到界面，点击左上角返回按钮即可返回首页。
    + 内部逻辑：
        ```mermaid
        graph LR;
            A[用户]--进入-->B[home.html];
            B-.提交岗位信息表单.->C[服务器:get_jobinfo模块];
            
            C-.解析岗位信息数据.->D;
            D[jobinfo.html];
        ```
    + 组件说明：
        + 表格组件：
            + 功能：显示职业信息。
            + HTTP请求方式：GET


3. stats.html 
    + 界面名称：薪水统计图表页面
    + 功能：解析服务器:get_group_statistics模块传来的数据，利用Echarts绘制用户所需统计图。查看所选关键字影响下的就业趋势统计图表，点击左上角返回按钮即可返回首页。
    + 内部逻辑：
        ```mermaid
        graph LR;
            A[用户]--进入-->B[home.html];
            B-.提交职业/教育背景等关键字表单.->E[服务器:get_group_statistics模块];
        	F[stats.html];
            E-.解析统计图绘制数据.->F;
            
        ```
    + 实现方式：
      
        + Echarts 
    + 组件说明：
        + Echarts统计图组件：
            + 功能：解析数据，绘制统计图
            + HTTP请求方式：GET
    
4. detail.html
	+ 界面名称：详细统计图表页面
    + 功能：解析服务器:detail模块传来的数据，利用Echarts和ajax绘制用户所需统计图。查看所选关键字影响下的就业趋势统计图表。
    + 内部逻辑：
        ```mermaid
        graph LR;
            A[用户]--进入-->B[home.html];
            B-.提交职业/教育背景等关键字表单.->E[服务器:get_group_statistics模块];
        	F[stats.html];
            E-.解析统计图绘制数据.->F;
            F.->G[ajax];
            G-.ajax请求.->H[服务器:get_groupByOneFeature模块];
            G-->I[服务器:get_groupByTwoFeatures模块];
            H-->F;
            I-->F;
            
        ```
    + 实现方式：
      
        + Echarts ，ajax
    + 组件说明：
        + Echarts统计图组件：
            + 功能：解析数据，绘制统计图
            
            + HTTP请求方式：单筛选柱状图 GET
            
              ​                            双筛选柱状图 POST
            
              ​                            折线图			GET
            
              ​							饼图				GET
   



## 4.JS文件

aj.js:用于ajax请求

pic.js:用于Echarts画图

common.js:频繁使用函数

​	